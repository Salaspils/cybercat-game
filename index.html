html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CyberCat: DX11 Metaverse</title>
    <link rel="icon" href="data:,">
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Orbitron', sans-serif; color: #fff; }
        #ui { position: fixed; top: 20px; left: 20px; z-index: 100; pointer-events: none; }
        .hud { background: rgba(0,255,204,0.1); border: 1px solid #00ffcc; padding: 15px; border-radius: 12px; backdrop-filter: blur(15px); box-shadow: 0 0 20px rgba(0,255,204,0.3); }
        #energy-bar { width: 150px; height: 8px; background: #111; margin-top: 10px; border-radius: 4px; border: 1px solid #00ffcc; overflow: hidden; }
        #energy-fill { height: 100%; background: #00ffcc; width: 100%; transition: 0.3s; }
        .controls { position: fixed; bottom: 30px; width: 100%; display: flex; justify-content: center; gap: 15px; pointer-events: auto; }
        .btn { background: #000; border: 2px solid #00ffcc; color: #00ffcc; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
        .btn:hover { background: #00ffcc; color: #000; box-shadow: 0 0 30px #00ffcc; }
    </style>
</head>
<body>
    <div id="ui">
        <div class="hud">
            <div style="font-size: 26px; font-weight: 900; color:#00ffcc">$MEOW: <span id="bal">0</span></div>
            <div id="energy-bar"><div id="energy-fill"></div></div>
            <div style="margin-top:10px; font-size: 12px; color:#ff00ff">BOSS HP: <span id="boss-hp">1,000,000</span></div>
        </div>
    </div>
    <div class="controls">
        <button class="btn" onclick="db.board = !db.board">üõπ –•–û–í–ï–†–ë–û–†–î</button>
        <button class="btn" onclick="buildLogCabin()">üèóÔ∏è –°–†–£–ë (700)</button>
        <button class="btn" onclick="sellAll()" style="border-color:#ff00ff; color:#ff00ff">üè™ –†–´–ù–û–ö</button>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('cybercat_v23')) || { bal: 1000, inv: 0, nrg: 100, board: false, bossHp: 1000000 };

        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x020205, 0.015);
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 2000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);

        // –û–°–í–ï–©–ï–ù–ò–ï
        scene.add(new THREE.AmbientLight(0x4040ff, 0.5));
        const sun = new THREE.DirectionalLight(0x00ffcc, 1.5); sun.position.set(10, 20, 10); scene.add(sun);

        // –ö–ò–ë–ï–†-–°–ï–¢–ö–ê
        scene.add(new THREE.GridHelper(1000, 60, 0x00ffcc, 0x020205));

        // –ò–ì–†–û–ö
        const player = new THREE.Mesh(new THREE.IcosahedronGeometry(1.5, 2), new THREE.MeshStandardMaterial({ color: 0x00ffcc, emissive: 0x00ffcc, metalness: 1, roughness: 0 }));
        player.position.y = 1.5; scene.add(player);
        let target = new THREE.Vector3(0, 1.5, 0);

        // –ñ–ò–í–û–¢–ù–´–ï (–ö–£–†–´)
        const animals = [];
        for(let i=0; i<15; i++) {
            const a = new THREE.Mesh(new THREE.BoxGeometry(1.2, 0.8, 1.2), new THREE.MeshStandardMaterial({ color: 0xffffff }));
            a.position.set((Math.random()-0.5)*200, 0.6, (Math.random()-0.5)*200);
            scene.add(a); animals.push(a);
        }

        // –ë–û–°–° (üëæ)
        const boss = new THREE.Mesh(new THREE.OctahedronGeometry(10), new THREE.MeshStandardMaterial({ color: 0xff00ff, emissive: 0xff00ff }));
        boss.position.set(0, 15, -100); scene.add(boss);

        window.addEventListener('pointerdown', (e) => {
            const ray = new THREE.Raycaster();
            const mouse = new THREE.Vector2((e.clientX/window.innerWidth)*2-1, -(e.clientY/window.innerHeight)*2+1);
            ray.setFromCamera(mouse, camera);
            const ground = new THREE.Plane(new THREE.Vector3(0,1,0), 0);
            const hit = new THREE.Vector3();
            if(ray.ray.intersectPlane(ground, hit)) {
                target.copy(hit).y = 1.5;
                if(hit.distanceTo(boss.position) < 30) { db.bossHp -= 1000; db.bal += 50; }
            }
        });

        window.buildLogCabin = () => {
            if(db.bal >= 700) {
                db.bal -= 700;
                const house = new THREE.Group();
                const logMat = new THREE.MeshStandardMaterial({ color: 0x5d4037, roughness: 0.9 });
                for(let i=0; i<5; i++) {
                    const log = new THREE.Mesh(new THREE.CylinderGeometry(0.8, 0.8, 10, 8), logMat);
                    log.rotation.z = Math.PI/2; log.position.y = i*1.5; house.add(log);
                }
                house.position.copy(player.position); scene.add(house);
            }
        };

        window.sellAll = () => { db.bal += db.inv * 20; db.inv = 0; };

        function animate() {
            requestAnimationFrame(animate);
            player.position.lerp(target, db.board ? 0.25 : 0.1);
            player.rotation.y += 0.05;
            boss.rotation.y += 0.02;
            
            animals.forEach(a => {
                a.rotation.y += 0.01;
                if(a.position.distanceTo(player.position) < 5 && db.nrg > 5) {
                    db.inv++; db.nrg -= 2;
                    a.position.set((Math.random()-0.5)*200, 0.6, (Math.random()-0.5)*200);
                }
            });

            if(db.nrg < 100) db.nrg += 0.08;
            camera.position.lerp(new THREE.Vector3(player.position.x, 35, player.position.z + 50), 0.05);
            camera.lookAt(player.position);
            
            document.getElementById('bal').innerText = Math.floor(db.bal);
            document.getElementById('boss-hp').innerText = db.bossHp.toLocaleString();
            document.getElementById('energy-fill').style.width = db.nrg + '%';
            localStorage.setItem('cybercat_v23', JSON.stringify(db));
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
