html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CyberCat: Final Metaverse</title>
    <script src="https://telegram.org"></script>
    <style>
        :root { --neon: #00ffcc; --pink: #ff0066; --gold: #ffcc00; --bg: #010103; }
        body { background: var(--bg); color: #fff; font-family: 'Orbitron', sans-serif; margin: 0; overflow: hidden; touch-action: none; }
        
        #viewport { width: 100vw; height: 100vh; position: relative; overflow: hidden; perspective: 1000px; }
        #world { position: absolute; width: 8000px; height: 8000px; background: #030703; background-image: 
            linear-gradient(rgba(0,255,204,0.05) 1px, transparent 1px), 
            linear-gradient(90deg, rgba(0,255,204,0.05) 1px, transparent 1px);
            background-size: 100px 100px; transition: 0.15s ease-out; }

        #ui-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }
        .glass { background: rgba(0,0,0,0.8); border: 1px solid var(--neon); padding: 10px; border-radius: 15px; pointer-events: auto; }
        
        #cat { position: absolute; font-size: 70px; z-index: 500; transform: translate(-50%, -50%); filter: drop-shadow(0 0 25px var(--neon)); pointer-events: none; }
        #cat.on-board { filter: drop-shadow(0 10px 20px var(--pink)); }
        #cat.on-board::after { content: 'üöÄ'; position: absolute; font-size: 30px; bottom: -10px; left: 20px; }

        .entity { position: absolute; transform: translate(-50%, -50%); text-align: center; pointer-events: auto; z-index: 100; }
        .boss { font-size: 150px; filter: drop-shadow(0 0 50px var(--pink)); animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.1); } 100% { transform: translate(-50%, -50%) scale(1); } }

        .footer { position: absolute; bottom: 25px; width: 100%; display: flex; justify-content: center; gap: 8px; pointer-events: auto; }
        .btn { background: #000; border: 1px solid var(--neon); color: #fff; padding: 12px; border-radius: 12px; font-size: 10px; font-weight: bold; box-shadow: 0 4px 0 #006655; }
        .btn:active { transform: translateY(2px); box-shadow: none; }
    </style>
</head>
<body>
    <div id="viewport">
        <div id="world">
            <div id="cat">üêà‚Äç‚¨õ</div>
        </div>
    </div>
    
    <div id="ui-layer">
        <div style="position:absolute; top:15px; width:94%; left:3%; display:flex; justify-content:space-between">
            <div class="glass">üí∞ <b id="bal">0</b><br><small id="pps">+0/—Å</small></div>
            <div class="glass" style="border-color:var(--pink)">üëæ BOSS HP: <br><b id="boss-hp">1,000,000</b></div>
        </div>

        <div class="footer">
            <button class="btn" onclick="toggleBoard()">üõπ –•–û–í–ï–†–ë–û–†–î</button>
            <button class="btn" style="border-color:var(--gold)" onclick="scanArea()">üîç –°–ö–ê–ù–ï–†</button>
            <button class="btn" onclick="inviteFriends()">üéÅ –ü–†–ò–ì–õ–ê–°–ò–¢–¨</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        let state = JSON.parse(localStorage.getItem('cybercat_v20')) || {
            score: 0, pps: 0, catPos: {x: 500, y: 500}, 
            onBoard: false, objects: [], bossHp: 1000000
        };

        const world = document.getElementById('world');
        const cat = document.getElementById('cat');

        function init() {
            spawnBoss();
            updateCamera();
            setInterval(() => {
                state.score += state.pps;
                if(state.bossHp > 0) state.bossHp -= Math.floor(Math.random()*10); // –£—Ä–æ–Ω –æ—Ç –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
                updateUI();
            }, 1000);
        }

        function updateUI() {
            document.getElementById('bal').innerText = Math.floor(state.score).toLocaleString();
            document.getElementById('pps').innerText = `+${state.pps}/—Å`;
            document.getElementById('boss-hp').innerText = state.bossHp.toLocaleString();
            localStorage.setItem('cybercat_v20', JSON.stringify(state));
        }

        function updateCamera() {
            cat.style.left = state.catPos.x + 'px';
            cat.style.top = state.catPos.y + 'px';
            world.style.transform = `translate(${-state.catPos.x + window.innerWidth/2}px, ${-state.catPos.y + window.innerHeight/2}px)`;
        }

        document.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            const moveX = (touch.clientX - window.innerWidth/2) * (state.onBoard ? 3 : 1.5);
            const moveY = (touch.clientY - window.innerHeight/2) * (state.onBoard ? 3 : 1.5);
            
            state.catPos.x += moveX;
            state.catPos.y += moveY;
            
            // –ì—Ä–∞–Ω–∏—Ü—ã –º–∏—Ä–∞
            state.catPos.x = Math.max(0, Math.min(8000, state.catPos.x));
            state.catPos.y = Math.max(0, Math.min(8000, state.catPos.y));
            
            updateCamera();
            tg.HapticFeedback.impactOccurred(state.onBoard ? 'heavy' : 'light');
        });

        function toggleBoard() {
            state.onBoard = !state.onBoard;
            cat.classList.toggle('on-board');
            tg.HapticFeedback.notificationOccurred('success');
        }

        function spawnBoss() {
            const b = document.createElement('div');
            b.className = 'entity boss';
            b.innerHTML = 'üëæ';
            b.style.left = '4000px'; b.style.top = '4000px';
            b.onclick = () => {
                const dmg = state.onBoard ? 100 : 50;
                state.bossHp -= dmg;
                state.score += 1000;
                tg.HapticFeedback.impactOccurred('medium');
                updateUI();
            };
            world.appendChild(b);
        }

        function scanArea() {
            tg.showAlert("–°–∫–∞–Ω–µ—Ä –æ–±–Ω–∞—Ä—É–∂–∏–ª –ë–æ—Å—Å–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–∞—Ä—Ç—ã (4000, 4000)!");
        }

        function inviteFriends() {
            const url = `https://t.me{tg.initDataUnsafe.user?.id}&text=–ü–æ–º–æ–≥–∏ –º–Ω–µ –∑–∞–≤–∞–ª–∏—Ç—å –ë–æ—Å—Å–∞ –≤ CyberCat! üëæüí∞`;
            tg.openTelegramLink(url);
        }

        init(); tg.ready(); tg.expand();
    </script>
</body>
</html>

